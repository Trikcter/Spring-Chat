<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Чат</title>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
        <script src = "/js/script.js"></script>
        <link rel="stylesheet" href = "/css/style.css">
        <link rel="stylesheet" href = "/css/colors.css">
    </head>
    <body>
        <input type = "hidden" id = "activeRoom" th:value="${activeRoom}"/>
        <div class = "row">
            <div class = "col s2">
                <ul class="collection with-header">
                    <li class="collection-header"><h5>Доступные комнаты</h5></li>
                    <li class="collection-item"><div>Общий чат</div></li>
                    <li class="collection-item" th:each = "room : ${rooms}">
                        <div>
                            <span th:text = "${room.name}"></span>
                        </div>
                    </li>
                </ul>
            </div>
            <div class = "col s8">
                <div class="messages">
                    <ul id = "chat" class="collection">
                    </ul>
                </div>
            </div>
        </div>
        <div class = "row">
            <div class = "bottom col s8 offset-s2">
                <h5><span>Добро пожаловать, </span><span id = "username" th:text="${username}"></span></h5>
                <p>Введите сообщение</p>
                <input id = 'message' type = 'text'>
                <div class = "row">
                    <div class = "col s6">
                        <button class="btn waves-effect waves-light" type="submit" name="action" onclick="onClose()">
                            Выход
                        </button>
                        <button th:if = "${isSuperuser}" class="btn waves-effect waves-light" type="submit" name="action">
                            <a href = "/panel">Панель управления</a>
                        </button>
                    </div>
                    <div class = "right-align col s6">
                        <button class="btn waves-effect waves-light" onclick="sendMessage()">
                            Отправить
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>